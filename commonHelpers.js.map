{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = '42557363-2349d8dc8525cd1cea516a01b';\nconst baseUrl = 'https://pixabay.com/api/';\nconst endPoint = '';\nconst perPage = 15; \nlet currentPage = 1;\n\nexport function fetchImages(userInput) {\n  const queryParams = new URLSearchParams({\n    key: apiKey,\n    q: userInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: perPage,\n    page: currentPage\n  });\n\n  const url = `${baseUrl}${endPoint}?${queryParams}`;\n\n  return axios.get(url)\n    .then(response => response.data)\n    .catch(error => {\n      console.error('Error fetching data:', error);\n      throw error; // Re-throw the error to handle it further if needed\n    });\n}","import iziToast from 'izitoast'; \nimport SimpleLightbox from 'simplelightbox'; \nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\n\nexport function handleResponse(data, gallery) {\n  if (data.hits.length === 0) {\n    iziToast.error({\n      title: '',\n      backgroundColor: '#EF4040',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight'\n    });\n  } else {\n    const options = {\n      captions: true,\n      captionSelector: 'img',\n      captionType: 'attr',\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      animation: 250,\n      widthRatio: 0.9,\n      scaleImageToRatio: true,\n    };\n\n    const markup = data.hits\n      .map(data => {\n        return `\n              <li class=\"gallery-item\">\n                  <a href=\"${data.webformatURL}\" class=\"image-link\">\n                      <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\">\n                  </a>\n                  <div class=\"comments\">\n                      <div class=\"desc\">\n                          <p class=\"label\">Likes</p>\n                          <p class=\"value\">${data.likes}</p>\n                      </div>\n                      <div class=\"desc\">\n                          <p class=\"label\">Views</p>\n                          <p class=\"value\">${data.views}</p>\n                      </div>\n                      <div class=\"desc\">\n                          <p class=\"label\">Comments</p>\n                          <p class=\"value\">${data.comments}</p>\n                      </div>\n                      <div class=\"desc\">\n                          <p class=\"label\">Downloads</p>\n                          <p class=\"value\">${data.downloads}</p>\n                      </div>\n                  </div>\n              </li>\n              `;\n      })\n      .join('');\n    gallery.insertAdjacentHTML('afterbegin', markup);\n    const lightbox = new SimpleLightbox('.gallery a', options);\n    lightbox.refresh();\n    form.reset();\n  }\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { handleResponse } from './js/render-functions';\nconst form = document.querySelector('#form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nconst more = document.querySelector('#loadmore');\n\nloader.style.display = 'none';\nlet page;\nlet userInput;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n    const userInput = document.getElementById('search').value.trim();\n    if (!userInput) {\n      return;\n    }\n    loader.style.display = 'inline-block';\n    more.style.display = 'inline-block';\n    gallery.innerHTML = '';\n    fetchImages(userInput,1)\n      .then(data => handleResponse(data, gallery))\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  });\n  \n  \n  more.addEventListener('click', event => {\n    event.preventDefault();\n    page++;\n    console.log(page);\n    fetchImages(userInput,page)\n      .then(data => handleResponse(data, gallery))\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  });\n});\n\n\n"],"names":["apiKey","baseUrl","endPoint","perPage","currentPage","fetchImages","userInput","queryParams","url","axios","response","error","handleResponse","data","gallery","iziToast","options","markup","SimpleLightbox","form","loader","more","page","event"],"mappings":"owBAEA,MAAMA,EAAS,qCACTC,EAAU,2BACVC,EAAW,GACXC,EAAU,GAChB,IAAIC,EAAc,EAEX,SAASC,EAAYC,EAAW,CACrC,MAAMC,EAAc,IAAI,gBAAgB,CACtC,IAAKP,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUH,EACV,KAAMC,CACV,CAAG,EAEKI,EAAM,GAAGP,CAAO,GAAGC,CAAQ,IAAIK,CAAW,GAEhD,OAAOE,EAAM,IAAID,CAAG,EACjB,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,uBAAwBA,CAAK,EACrCA,CACZ,CAAK,CACL,CCpBO,SAASC,EAAeC,EAAMC,EAAS,CAC5C,GAAID,EAAK,KAAK,SAAW,EACvBE,EAAS,MAAM,CACb,MAAO,GACP,gBAAiB,UACjB,QACE,2EACF,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAAU,CACd,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,WAAY,GACZ,kBAAmB,EACzB,EAEUC,EAASJ,EAAK,KACjB,IAAIA,GACI;AAAA;AAAA,6BAEcA,EAAK,YAAY;AAAA,wDACUA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAK/CA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,eAKpD,EACA,KAAK,EAAE,EACVC,EAAQ,mBAAmB,aAAcG,CAAM,EAC9B,IAAIC,EAAe,aAAcF,CAAO,EAChD,QAAO,EAChB,KAAK,MAAK,CACX,CACH,CC5DA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCN,EAAU,SAAS,cAAc,UAAU,EAC3CO,EAAO,SAAS,cAAc,WAAW,EAE/CD,EAAO,MAAM,QAAU,OACvB,IAAIE,EACAhB,EAEJ,SAAS,iBAAiB,mBAAoB,IAAM,CAClDa,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMjB,EAAY,SAAS,eAAe,QAAQ,EAAE,MAAM,OACrDA,IAGLc,EAAO,MAAM,QAAU,eACvBC,EAAK,MAAM,QAAU,eACrBP,EAAQ,UAAY,GACpBT,EAAYC,CAAW,EACpB,KAAKO,GAAQD,EAAeC,EAAMC,CAAO,CAAC,EAC1C,QAAQ,IAAM,CACbM,EAAO,MAAM,QAAU,MAC/B,CAAO,EACP,CAAG,EAGDC,EAAK,iBAAiB,QAASE,GAAS,CACtCA,EAAM,eAAc,EACpBD,IACA,QAAQ,IAAIA,CAAI,EAChBjB,EAAYC,CAAc,EACvB,KAAKO,GAAQD,EAAeC,EAAMC,CAAO,CAAC,EAC1C,QAAQ,IAAM,CACbM,EAAO,MAAM,QAAU,MAC/B,CAAO,CACP,CAAG,CACH,CAAC"}